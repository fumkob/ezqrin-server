# ezQRin Server - Environment Configuration
#
# IMPORTANT: Copy this file to .env and update with your actual values
# For DevContainer defaults, see .devcontainer/docker-compose.yml or docs/deployment/docker.md
# NEVER commit .env file to version control

#
# Server Configuration
#
SERVER_PORT=8080
SERVER_ENV=development  # Options: development, production

#
# Database Configuration (PostgreSQL)
#
# DevContainer defaults: host=postgres, user=ezqrin, password=ezqrin_dev, dbname=ezqrin_db
# For production: use secure passwords and enable SSL
DB_HOST=postgres        # DevContainer: 'postgres', Local: 'localhost', Production: your-db-host
DB_PORT=5432
DB_USER=your-database-user
DB_PASSWORD=your-secure-database-password  # CHANGE THIS! DevContainer default: see docker-compose.yml
DB_NAME=your-database-name
DB_SSL_MODE=disable     # Options: disable (dev only), require, verify-ca, verify-full

# Connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

#
# Redis Configuration
#
# DevContainer defaults: host=redis, port=6379, no password
REDIS_HOST=redis        # DevContainer: 'redis', Local: 'localhost', Production: your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=         # Production: use a secure password
REDIS_DB=0

#
# JWT Configuration
#
# CRITICAL: Use a cryptographically secure random string (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE-ME-use-openssl-rand-base64-32-to-generate  # MUST be at least 32 characters
JWT_ACCESS_TOKEN_EXPIRY=15m      # Access token expiry (e.g., 15m, 1h)
JWT_REFRESH_TOKEN_EXPIRY_WEB=168h    # 7 days for web clients
JWT_REFRESH_TOKEN_EXPIRY_MOBILE=2160h # 90 days for mobile clients

#
# Logging Configuration
#
LOG_LEVEL=debug         # Options: debug, info, warn, error (use 'info' or 'warn' in production)
LOG_FORMAT=json         # Options: json, text (use 'json' in production)

#
# CORS Configuration (Optional)
#
# Development example: allow localhost origins
# Production: restrict to your actual frontend domains
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173  # Comma-separated list
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Origin,Content-Type,Accept,Authorization
CORS_ALLOW_CREDENTIALS=true

#
# Rate Limiting (Optional - Future Enhancement)
#
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# ============================================================================
# QUICK START FOR DEVCONTAINER
# ============================================================================
# If you're using DevContainer (.devcontainer/), create .env with these values:
#
#   DB_USER=ezqrin
#   DB_PASSWORD=ezqrin_dev
#   DB_NAME=ezqrin_db
#   JWT_SECRET=dev-secret-key-minimum-32-chars-long-for-development-only
#
# See .devcontainer/docker-compose.yml for the complete DevContainer setup.
# ============================================================================
