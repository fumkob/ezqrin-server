// Package generated provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package generated

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"
	"time"

	"github.com/getkin/kin-openapi/openapi3"
	"github.com/gin-gonic/gin"
	openapi_types "github.com/oapi-codegen/runtime/types"
)

// Defines values for CheckInMethod.
const (
	Manual CheckInMethod = "manual"
	Qrcode CheckInMethod = "qrcode"
)

// Defines values for EventStatus.
const (
	EventStatusCancelled EventStatus = "cancelled"
	EventStatusCompleted EventStatus = "completed"
	EventStatusDraft     EventStatus = "draft"
	EventStatusOngoing   EventStatus = "ongoing"
	EventStatusPublished EventStatus = "published"
)

// Defines values for ParticipantStatus.
const (
	ParticipantStatusCancelled ParticipantStatus = "cancelled"
	ParticipantStatusConfirmed ParticipantStatus = "confirmed"
	ParticipantStatusDeclined  ParticipantStatus = "declined"
	ParticipantStatusTentative ParticipantStatus = "tentative"
)

// Defines values for PaymentStatus.
const (
	Paid   PaymentStatus = "paid"
	Unpaid PaymentStatus = "unpaid"
)

// Defines values for UserRole.
const (
	Admin     UserRole = "admin"
	Organizer UserRole = "organizer"
	Staff     UserRole = "staff"
)

// Defines values for OrderParam.
const (
	Asc  OrderParam = "asc"
	Desc OrderParam = "desc"
)

// CheckIn defines model for CheckIn.
type CheckIn struct {
	// CheckedInAt Check-in timestamp (ISO 8601, default NOW())
	CheckedInAt *time.Time `json:"checked_in_at,omitempty"`

	// CheckedInBy User who performed check-in
	CheckedInBy *struct {
		Id   *openapi_types.UUID `json:"id,omitempty"`
		Name *string             `json:"name,omitempty"`
	} `json:"checked_in_by,omitempty"`

	// CheckinMethod Check-in method
	CheckinMethod CheckInMethod `json:"checkin_method"`

	// DeviceInfo Device metadata (max 5KB JSON)
	DeviceInfo *map[string]interface{} `json:"device_info,omitempty"`

	// EventId Associated event ID
	EventId *openapi_types.UUID `json:"event_id,omitempty"`

	// Id Check-in unique identifier
	Id *openapi_types.UUID `json:"id,omitempty"`

	// ParticipantId Checked-in participant ID
	ParticipantId *openapi_types.UUID `json:"participant_id,omitempty"`
}

// CheckInMethod Check-in method
type CheckInMethod string

// ErrorResponse defines model for ErrorResponse.
type ErrorResponse struct {
	Error struct {
		// Code Machine-readable error code (UPPER_SNAKE_CASE)
		Code string `json:"code"`

		// Details Additional error details (validation errors, etc.)
		Details *[]struct {
			// Field Field name that caused the error
			Field *string `json:"field,omitempty"`

			// Message Field-specific error message
			Message *string `json:"message,omitempty"`
		} `json:"details,omitempty"`

		// Message Human-readable error description
		Message string `json:"message"`
	} `json:"error"`

	// Success Always false for error responses
	Success bool `json:"success"`
}

// Event defines model for Event.
type Event struct {
	// CheckedInCount Number of checked-in participants
	CheckedInCount *int `json:"checked_in_count,omitempty"`

	// CreatedAt Creation timestamp (ISO 8601)
	CreatedAt *time.Time `json:"created_at,omitempty"`

	// Description Event description
	Description *string `json:"description,omitempty"`

	// EndDate Event end date and time (ISO 8601, must be after start_date)
	EndDate *time.Time `json:"end_date,omitempty"`

	// Id Event unique identifier
	Id *openapi_types.UUID `json:"id,omitempty"`

	// Location Venue or location
	Location *string `json:"location,omitempty"`

	// Name Event name
	Name string `json:"name"`

	// Organizer Event owner user details (included in detail views only)
	Organizer *struct {
		Email *openapi_types.Email `json:"email,omitempty"`
		Id    *openapi_types.UUID  `json:"id,omitempty"`
		Name  *string              `json:"name,omitempty"`
	} `json:"organizer,omitempty"`

	// OrganizerId Event owner user ID
	OrganizerId *openapi_types.UUID `json:"organizer_id,omitempty"`

	// ParticipantCount Total registered participants
	ParticipantCount *int `json:"participant_count,omitempty"`

	// StartDate Event start date and time (ISO 8601)
	StartDate time.Time `json:"start_date"`

	// Status Event status
	Status EventStatus `json:"status"`

	// Timezone IANA timezone identifier
	Timezone *string `json:"timezone,omitempty"`

	// UpdatedAt Last update timestamp (ISO 8601)
	UpdatedAt *time.Time `json:"updated_at,omitempty"`
}

// EventStatus Event status
type EventStatus string

// PaginationMeta defines model for PaginationMeta.
type PaginationMeta struct {
	// Page Current page number
	Page int `json:"page"`

	// PerPage Items per page
	PerPage int `json:"per_page"`

	// Total Total number of items
	Total int `json:"total"`

	// TotalPages Total number of pages
	TotalPages int `json:"total_pages"`
}

// Participant defines model for Participant.
type Participant struct {
	// CheckedIn Check-in status
	CheckedIn *bool `json:"checked_in,omitempty"`

	// CheckedInAt Check-in timestamp (ISO 8601)
	CheckedInAt *time.Time `json:"checked_in_at"`

	// CreatedAt Creation timestamp (ISO 8601)
	CreatedAt *time.Time `json:"created_at,omitempty"`

	// Email Email address (unique per event)
	Email openapi_types.Email `json:"email"`

	// EmployeeId Employee or staff ID
	EmployeeId *string `json:"employee_id"`

	// EventId Associated event ID
	EventId *openapi_types.UUID `json:"event_id,omitempty"`

	// Id Participant unique identifier
	Id *openapi_types.UUID `json:"id,omitempty"`

	// Metadata Custom participant data (max 10KB JSON, not included in list responses)
	Metadata *map[string]interface{} `json:"metadata,omitempty"`

	// Name Participant full name
	Name string `json:"name"`

	// PaymentAmount Payment amount (decimal, 2 places)
	PaymentAmount *float64 `json:"payment_amount"`

	// PaymentDate Payment date/time (ISO 8601)
	PaymentDate *time.Time `json:"payment_date"`

	// PaymentStatus Payment status
	PaymentStatus *PaymentStatus `json:"payment_status,omitempty"`

	// Phone Phone number in E.164 format
	Phone *string `json:"phone"`

	// QrCode QR code token (unique)
	QrCode *string `json:"qr_code,omitempty"`

	// QrCodeGeneratedAt QR code generation timestamp (ISO 8601)
	QrCodeGeneratedAt *time.Time `json:"qr_code_generated_at,omitempty"`

	// QrEmail Alternative email for QR code distribution
	QrEmail *openapi_types.Email `json:"qr_email"`

	// Status Participant status
	Status ParticipantStatus `json:"status"`

	// UpdatedAt Last update timestamp (ISO 8601)
	UpdatedAt *time.Time `json:"updated_at,omitempty"`
}

// ParticipantStatus Participant status
type ParticipantStatus string

// PaymentStatus Payment status
type PaymentStatus string

// StandardResponse defines model for StandardResponse.
type StandardResponse struct {
	// Data Response payload (entity or collection)
	Data interface{} `json:"data,omitempty"`

	// Message Human-readable success message
	Message *string `json:"message,omitempty"`

	// Meta Metadata (pagination, counts, etc.)
	Meta interface{} `json:"meta,omitempty"`

	// Success Indicates if the operation was successful
	Success bool `json:"success"`
}

// User defines model for User.
type User struct {
	// CreatedAt Creation timestamp (ISO 8601)
	CreatedAt *time.Time `json:"created_at,omitempty"`

	// Email Email address (unique)
	Email openapi_types.Email `json:"email"`

	// Id User unique identifier
	Id *openapi_types.UUID `json:"id,omitempty"`

	// Name Full name
	Name string `json:"name"`

	// Role User role
	Role UserRole `json:"role"`

	// UpdatedAt Last update timestamp (ISO 8601)
	UpdatedAt *time.Time `json:"updated_at,omitempty"`
}

// UserRole User role
type UserRole string

// CheckInIDParam defines model for CheckInIDParam.
type CheckInIDParam = openapi_types.UUID

// EventIDParam defines model for EventIDParam.
type EventIDParam = openapi_types.UUID

// OrderParam Sort order (ascending or descending)
type OrderParam string

// PageParam defines model for PageParam.
type PageParam = int

// ParticipantIDParam defines model for ParticipantIDParam.
type ParticipantIDParam = openapi_types.UUID

// PerPageParam defines model for PerPageParam.
type PerPageParam = int

// SortParam defines model for SortParam.
type SortParam = string

// BadRequest defines model for BadRequest.
type BadRequest = ErrorResponse

// Conflict defines model for Conflict.
type Conflict = ErrorResponse

// Forbidden defines model for Forbidden.
type Forbidden = ErrorResponse

// InternalError defines model for InternalError.
type InternalError = ErrorResponse

// NotFound defines model for NotFound.
type NotFound = ErrorResponse

// RateLimitExceeded defines model for RateLimitExceeded.
type RateLimitExceeded = ErrorResponse

// ServiceUnavailable defines model for ServiceUnavailable.
type ServiceUnavailable = ErrorResponse

// Unauthorized defines model for Unauthorized.
type Unauthorized = ErrorResponse

// ValidationError defines model for ValidationError.
type ValidationError = ErrorResponse

// ServerInterface represents all server handlers.
type ServerInterface interface {
	// Basic health check
	// (GET /health)
	GetHealth(c *gin.Context)
	// Liveness probe
	// (GET /health/live)
	GetHealthLive(c *gin.Context)
	// Readiness probe
	// (GET /health/ready)
	GetHealthReady(c *gin.Context)
}

// ServerInterfaceWrapper converts contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler            ServerInterface
	HandlerMiddlewares []MiddlewareFunc
	ErrorHandler       func(*gin.Context, error, int)
}

type MiddlewareFunc func(c *gin.Context)

// GetHealth operation middleware
func (siw *ServerInterfaceWrapper) GetHealth(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetHealth(c)
}

// GetHealthLive operation middleware
func (siw *ServerInterfaceWrapper) GetHealthLive(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetHealthLive(c)
}

// GetHealthReady operation middleware
func (siw *ServerInterfaceWrapper) GetHealthReady(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetHealthReady(c)
}

// GinServerOptions provides options for the Gin server.
type GinServerOptions struct {
	BaseURL      string
	Middlewares  []MiddlewareFunc
	ErrorHandler func(*gin.Context, error, int)
}

// RegisterHandlers creates http.Handler with routing matching OpenAPI spec.
func RegisterHandlers(router gin.IRouter, si ServerInterface) {
	RegisterHandlersWithOptions(router, si, GinServerOptions{})
}

// RegisterHandlersWithOptions creates http.Handler with additional options
func RegisterHandlersWithOptions(router gin.IRouter, si ServerInterface, options GinServerOptions) {
	errorHandler := options.ErrorHandler
	if errorHandler == nil {
		errorHandler = func(c *gin.Context, err error, statusCode int) {
			c.JSON(statusCode, gin.H{"msg": err.Error()})
		}
	}

	wrapper := ServerInterfaceWrapper{
		Handler:            si,
		HandlerMiddlewares: options.Middlewares,
		ErrorHandler:       errorHandler,
	}

	router.GET(options.BaseURL+"/health", wrapper.GetHealth)
	router.GET(options.BaseURL+"/health/live", wrapper.GetHealthLive)
	router.GET(options.BaseURL+"/health/ready", wrapper.GetHealthReady)
}

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
