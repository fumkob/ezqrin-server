// Package generated provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package generated

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"
	"time"

	"github.com/getkin/kin-openapi/openapi3"
	"github.com/gin-gonic/gin"
	openapi_types "github.com/oapi-codegen/runtime/types"
)

// Defines values for CheckInMethod.
const (
	Manual CheckInMethod = "manual"
	Qrcode CheckInMethod = "qrcode"
)

// Defines values for EventStatus.
const (
	EventStatusCancelled EventStatus = "cancelled"
	EventStatusCompleted EventStatus = "completed"
	EventStatusDraft     EventStatus = "draft"
	EventStatusOngoing   EventStatus = "ongoing"
	EventStatusPublished EventStatus = "published"
)

// Defines values for ParticipantStatus.
const (
	ParticipantStatusCancelled ParticipantStatus = "cancelled"
	ParticipantStatusConfirmed ParticipantStatus = "confirmed"
	ParticipantStatusDeclined  ParticipantStatus = "declined"
	ParticipantStatusTentative ParticipantStatus = "tentative"
)

// Defines values for PaymentStatus.
const (
	Paid   PaymentStatus = "paid"
	Unpaid PaymentStatus = "unpaid"
)

// Defines values for UserRole.
const (
	Admin     UserRole = "admin"
	Organizer UserRole = "organizer"
	Staff     UserRole = "staff"
)

// Defines values for OrderParam.
const (
	Asc  OrderParam = "asc"
	Desc OrderParam = "desc"
)

// CheckIn defines model for CheckIn.
type CheckIn struct {
	// CheckedInAt Check-in timestamp (ISO 8601, default NOW())
	CheckedInAt *time.Time `json:"checked_in_at,omitempty"`

	// CheckedInBy User who performed check-in
	CheckedInBy *struct {
		Id   *openapi_types.UUID `json:"id,omitempty"`
		Name *string             `json:"name,omitempty"`
	} `json:"checked_in_by,omitempty"`

	// CheckinMethod Check-in method
	CheckinMethod CheckInMethod `json:"checkin_method"`

	// DeviceInfo Device metadata (max 5KB JSON)
	DeviceInfo *map[string]interface{} `json:"device_info,omitempty"`

	// EventId Associated event ID
	EventId *openapi_types.UUID `json:"event_id,omitempty"`

	// Id Check-in unique identifier
	Id *openapi_types.UUID `json:"id,omitempty"`

	// ParticipantId Checked-in participant ID
	ParticipantId *openapi_types.UUID `json:"participant_id,omitempty"`
}

// CheckInMethod Check-in method
type CheckInMethod string

// Event defines model for Event.
type Event struct {
	// CheckedInCount Number of checked-in participants
	CheckedInCount *int `json:"checked_in_count,omitempty"`

	// CreatedAt Creation timestamp (ISO 8601)
	CreatedAt *time.Time `json:"created_at,omitempty"`

	// Description Event description
	Description *string `json:"description,omitempty"`

	// EndDate Event end date and time (ISO 8601, must be after start_date)
	EndDate *time.Time `json:"end_date,omitempty"`

	// Id Event unique identifier
	Id *openapi_types.UUID `json:"id,omitempty"`

	// Location Venue or location
	Location *string `json:"location,omitempty"`

	// Name Event name
	Name string `json:"name"`

	// Organizer Event owner user details (included in detail views only)
	Organizer *struct {
		Email *openapi_types.Email `json:"email,omitempty"`
		Id    *openapi_types.UUID  `json:"id,omitempty"`
		Name  *string              `json:"name,omitempty"`
	} `json:"organizer,omitempty"`

	// OrganizerId Event owner user ID
	OrganizerId *openapi_types.UUID `json:"organizer_id,omitempty"`

	// ParticipantCount Total registered participants
	ParticipantCount *int `json:"participant_count,omitempty"`

	// StartDate Event start date and time (ISO 8601)
	StartDate time.Time `json:"start_date"`

	// Status Event status
	Status EventStatus `json:"status"`

	// Timezone IANA timezone identifier
	Timezone *string `json:"timezone,omitempty"`

	// UpdatedAt Last update timestamp (ISO 8601)
	UpdatedAt *time.Time `json:"updated_at,omitempty"`
}

// EventStatus Event status
type EventStatus string

// ListResponse defines model for ListResponse.
type ListResponse struct {
	// Data Array of items
	Data []map[string]interface{} `json:"data"`
	Meta PaginationMeta           `json:"meta"`
}

// PaginationMeta defines model for PaginationMeta.
type PaginationMeta struct {
	// Page Current page number
	Page int `json:"page"`

	// PerPage Items per page
	PerPage int `json:"per_page"`

	// Total Total number of items
	Total int `json:"total"`

	// TotalPages Total number of pages
	TotalPages int `json:"total_pages"`
}

// Participant defines model for Participant.
type Participant struct {
	// CheckedIn Check-in status
	CheckedIn *bool `json:"checked_in,omitempty"`

	// CheckedInAt Check-in timestamp (ISO 8601)
	CheckedInAt *time.Time `json:"checked_in_at"`

	// CreatedAt Creation timestamp (ISO 8601)
	CreatedAt *time.Time `json:"created_at,omitempty"`

	// Email Email address (unique per event)
	Email openapi_types.Email `json:"email"`

	// EmployeeId Employee or staff ID
	EmployeeId *string `json:"employee_id"`

	// EventId Associated event ID
	EventId *openapi_types.UUID `json:"event_id,omitempty"`

	// Id Participant unique identifier
	Id *openapi_types.UUID `json:"id,omitempty"`

	// Metadata Custom participant data (max 10KB JSON, not included in list responses)
	Metadata *map[string]interface{} `json:"metadata,omitempty"`

	// Name Participant full name
	Name string `json:"name"`

	// PaymentAmount Payment amount (decimal, 2 places)
	PaymentAmount *float64 `json:"payment_amount"`

	// PaymentDate Payment date/time (ISO 8601)
	PaymentDate *time.Time `json:"payment_date"`

	// PaymentStatus Payment status
	PaymentStatus *PaymentStatus `json:"payment_status,omitempty"`

	// Phone Phone number in E.164 format
	Phone *string `json:"phone"`

	// QrCode QR code token (unique)
	QrCode *string `json:"qr_code,omitempty"`

	// QrCodeGeneratedAt QR code generation timestamp (ISO 8601)
	QrCodeGeneratedAt *time.Time `json:"qr_code_generated_at,omitempty"`

	// QrEmail Alternative email for QR code distribution
	QrEmail *openapi_types.Email `json:"qr_email"`

	// Status Participant status
	Status ParticipantStatus `json:"status"`

	// UpdatedAt Last update timestamp (ISO 8601)
	UpdatedAt *time.Time `json:"updated_at,omitempty"`
}

// ParticipantStatus Participant status
type ParticipantStatus string

// PaymentStatus Payment status
type PaymentStatus string

// ProblemDetails RFC 9457 Problem Details - all fields are optional
type ProblemDetails struct {
	// Code Machine-readable error code (extension for backward compatibility)
	Code *string `json:"code,omitempty"`

	// Detail Human-readable explanation specific to this occurrence
	Detail *string `json:"detail,omitempty"`

	// Errors Validation errors (extension for validation problems)
	Errors *[]ValidationError `json:"errors,omitempty"`

	// Instance URI reference identifying the specific occurrence of the problem
	Instance *string `json:"instance,omitempty"`

	// Status HTTP status code
	Status *int `json:"status,omitempty"`

	// Title Short, human-readable summary of the problem type
	Title *string `json:"title,omitempty"`

	// Type URI reference identifying the problem type
	Type *string `json:"type,omitempty"`
}

// User defines model for User.
type User struct {
	// CreatedAt Creation timestamp (ISO 8601)
	CreatedAt *time.Time `json:"created_at,omitempty"`

	// Email Email address (unique)
	Email openapi_types.Email `json:"email"`

	// Id User unique identifier
	Id *openapi_types.UUID `json:"id,omitempty"`

	// Name Full name
	Name string `json:"name"`

	// Role User role
	Role UserRole `json:"role"`

	// UpdatedAt Last update timestamp (ISO 8601)
	UpdatedAt *time.Time `json:"updated_at,omitempty"`
}

// UserRole User role
type UserRole string

// ValidationError defines model for ValidationError.
type ValidationError struct {
	// Field Field name that caused the error
	Field string `json:"field"`

	// Message Field-specific error message
	Message string `json:"message"`
}

// CheckInIDParam defines model for CheckInIDParam.
type CheckInIDParam = openapi_types.UUID

// EventIDParam defines model for EventIDParam.
type EventIDParam = openapi_types.UUID

// OrderParam Sort order (ascending or descending)
type OrderParam string

// PageParam defines model for PageParam.
type PageParam = int

// ParticipantIDParam defines model for ParticipantIDParam.
type ParticipantIDParam = openapi_types.UUID

// PerPageParam defines model for PerPageParam.
type PerPageParam = int

// SortParam defines model for SortParam.
type SortParam = string

// BadRequest RFC 9457 Problem Details - all fields are optional
type BadRequest = ProblemDetails

// Conflict RFC 9457 Problem Details - all fields are optional
type Conflict = ProblemDetails

// Forbidden RFC 9457 Problem Details - all fields are optional
type Forbidden = ProblemDetails

// InternalError RFC 9457 Problem Details - all fields are optional
type InternalError = ProblemDetails

// NotFound RFC 9457 Problem Details - all fields are optional
type NotFound = ProblemDetails

// RateLimitExceeded RFC 9457 Problem Details - all fields are optional
type RateLimitExceeded = ProblemDetails

// ServiceUnavailable RFC 9457 Problem Details - all fields are optional
type ServiceUnavailable = ProblemDetails

// Unauthorized RFC 9457 Problem Details - all fields are optional
type Unauthorized = ProblemDetails

// ValidationErrorResponse RFC 9457 Problem Details - all fields are optional
type ValidationErrorResponse = ProblemDetails

// ServerInterface represents all server handlers.
type ServerInterface interface {
	// Basic health check
	// (GET /health)
	GetHealth(c *gin.Context)
	// Liveness probe
	// (GET /health/live)
	GetHealthLive(c *gin.Context)
	// Readiness probe
	// (GET /health/ready)
	GetHealthReady(c *gin.Context)
}

// ServerInterfaceWrapper converts contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler            ServerInterface
	HandlerMiddlewares []MiddlewareFunc
	ErrorHandler       func(*gin.Context, error, int)
}

type MiddlewareFunc func(c *gin.Context)

// GetHealth operation middleware
func (siw *ServerInterfaceWrapper) GetHealth(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetHealth(c)
}

// GetHealthLive operation middleware
func (siw *ServerInterfaceWrapper) GetHealthLive(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetHealthLive(c)
}

// GetHealthReady operation middleware
func (siw *ServerInterfaceWrapper) GetHealthReady(c *gin.Context) {

	for _, middleware := range siw.HandlerMiddlewares {
		middleware(c)
		if c.IsAborted() {
			return
		}
	}

	siw.Handler.GetHealthReady(c)
}

// GinServerOptions provides options for the Gin server.
type GinServerOptions struct {
	BaseURL      string
	Middlewares  []MiddlewareFunc
	ErrorHandler func(*gin.Context, error, int)
}

// RegisterHandlers creates http.Handler with routing matching OpenAPI spec.
func RegisterHandlers(router gin.IRouter, si ServerInterface) {
	RegisterHandlersWithOptions(router, si, GinServerOptions{})
}

// RegisterHandlersWithOptions creates http.Handler with additional options
func RegisterHandlersWithOptions(router gin.IRouter, si ServerInterface, options GinServerOptions) {
	errorHandler := options.ErrorHandler
	if errorHandler == nil {
		errorHandler = func(c *gin.Context, err error, statusCode int) {
			c.JSON(statusCode, gin.H{"msg": err.Error()})
		}
	}

	wrapper := ServerInterfaceWrapper{
		Handler:            si,
		HandlerMiddlewares: options.Middlewares,
		ErrorHandler:       errorHandler,
	}

	router.GET(options.BaseURL+"/health", wrapper.GetHealth)
	router.GET(options.BaseURL+"/health/live", wrapper.GetHealthLive)
	router.GET(options.BaseURL+"/health/ready", wrapper.GetHealthReady)
}

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"AAA=",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
